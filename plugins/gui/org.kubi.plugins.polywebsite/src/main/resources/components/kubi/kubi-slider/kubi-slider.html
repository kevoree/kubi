<link rel="import" href="../../bower_components/polymer/polymer.html"/>

<!-- kubi model -->
<link rel="import" href="../kubi-model/kubi-model.html"/>

<link rel="stylesheet" type="text/css" href="./kubi-slider.css"/>

<!-- kubi dependencies -->
<script src="/js/js/org.kubi.model-all.js"></script>
<script src="/js/js/org.kevoree.modeling.database.websocket.WebSocket.js"></script>


<!-- js associated -->
<script src="./kubi-slider.js"></script>


<dom-module id="kubi-slider">
    <template>
        <kubi-model id="modelHandlerSlider" on-model-connected="modelConnected"></kubi-model>
        <input type="range" id="slider1" value="{{value::notifySlider}}" min="1428500000" max="1429100000" step="100" on-click="sliderUpdatesGraph" on-input="sliderUpdatesGraph" on-notifySlider="notifySlider"/>
    </template>
</dom-module>

<script>
    Polymer({
        is: "kubi-slider",
        value : {
            type : Number,
            value : 1428887547,
            observe : 'notifySlider'
        },
        sliderUpdatesGraph : function(event) {
            this.value = event.srcElement.value;
            this.fire("slider-updated", {value:event.srcElement.value});
        },
        modelConnected : function(event, details){
            setModelSlider(details.value);
            setMaxSlider();
        },
        notifySlider : function(event, detail){
            console.error("Et c'est le retour ..... ");
        },
        ready: function() {


        }
    });
</script>